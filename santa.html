<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Santa's Silly vs. Smart Sleigh Ride</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Fredoka One', cursive; 
            background: linear-gradient(to bottom, #d42426, #a10000); 
            color: white; text-align: center; padding: 20px; 
            min-height: 100vh; display: flex; flex-direction: column; align-items: center;
            margin: 0;
        }

        .container { 
            background: rgba(255, 255, 255, 0.98); 
            border-radius: 50px; padding: 30px; width: 90%; max-width: 800px; 
            margin: 20px auto; color: #333;
            border: 8px solid #f8b229; 
            box-shadow: 0 15px 0 #8B0000;
            position: relative;
        }

        /* Santa Image Handling */
        .santa-container {
            width: 180px; height: 180px; margin: 0 auto 10px;
            background: white; border-radius: 50%; border: 5px solid #d42426;
            overflow: hidden; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
        }
        #santa-main-img { width: 110%; height: auto; }

        h1 { font-size: 2.5rem; color: #d42426; margin: 10px 0; text-shadow: 2px 2px #f8b229; }
        .question-text { font-size: 1.8rem; margin: 20px 0; line-height: 1.3; color: #444; min-height: 80px; }

        /* Rating Buttons */
        .button-zone { display: flex; justify-content: center; gap: 20px; margin: 20px 0; }
        .choice-btn {
            padding: 20px 40px; font-size: 1.8rem; border-radius: 30px; cursor: pointer;
            border: none; font-family: 'Fredoka One', cursive; transition: transform 0.2s, box-shadow 0.2s;
            color: white; min-width: 180px;
        }
        .silly-btn { background: #fbc02d; box-shadow: 0 8px #f57f17; }
        .smart-btn { background: #4CAF50; box-shadow: 0 8px #2e7d32; }
        .choice-btn:hover { transform: translateY(-3px); }
        .choice-btn:active { transform: translateY(4px); box-shadow: 0 2px #333; }

        /* Slider Section (Hidden at start) */
        #slider-zone { display: none; margin-top: 30px; padding-top: 20px; border-top: 3px dashed #ccc; }
        .slider-label { font-size: 1.4rem; color: #d42426; margin-bottom: 30px; display: block; }
        
        .slider-container {
            position: relative; width: 100%; height: 60px; 
            background: linear-gradient(to right, #ffeb3b, #4CAF50);
            border-radius: 50px; border: 4px solid #ccc;
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 20px; box-sizing: border-box; font-size: 1.2rem;
        }

        input[type="range"] {
            -webkit-appearance: none; width: 90%; background: transparent; 
            position: absolute; left: 5%; z-index: 5; outline: none;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none; height: 70px; width: 70px;
            background: url('santa_character.jpg') center center / cover;
            border-radius: 50%; border: 4px solid #d42426; cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }

        /* Cookie Jar */
        #cookie-jar-tracker {
            background: white; padding: 10px 20px; border-radius: 30px;
            display: flex; gap: 10px; margin-bottom: 10px; border: 3px solid #f8b229;
        }
        .cookie { font-size: 1.8rem; opacity: 0.2; transition: all 0.5s; }
        .cookie.active { opacity: 1; transform: scale(1.2); }

        .back-map-btn {
            background: #333; color: white; text-decoration: none;
            padding: 10px 20px; border-radius: 20px; margin-top: 20px; display: inline-block;
        }
    </style>
</head>
<body>

    <div id="cookie-jar-tracker">
        <span style="font-size: 1.8rem">üç™ Jar:</span>
        <div class="cookie" id="cookie-1">‚ú®</div>
        <div class="cookie" id="cookie-2">‚ú®</div>
        <div class="cookie" id="cookie-3">‚ú®</div>
        <div class="cookie" id="cookie-4">‚ú®</div>
        <div class="cookie" id="cookie-5">‚ú®</div>
    </div>

    <div class="container animate__animated animate__fadeInDown">
        <div class="santa-container">
            <img src="santa_character.jpg" id="santa-main-img" alt="Santa">
        </div>
        
        <h1>Santa's Academy</h1>
        <p class="question-text" id="question-display">Loading...</p>

        <div id="button-zone" class="button-zone">
            <button class="choice-btn silly-btn" onclick="rateBehavior('silly')">üòú Silly</button>
            <button class="choice-btn smart-btn" onclick="rateBehavior('smart')">üß† Smart</button>
        </div>

        <div id="slider-zone">
            <span class="slider-label">‚ú® You're right! Now help Santa make the SMART choice! ‚ú®</span>
            <div class="slider-container">
                <span>Try Again</span>
                <span>Smart Choice!</span>
                <input type="range" min="0" max="100" value="0" id="smart-slider" onchange="checkSlider()">
            </div>
        </div>
    </div>

    <a href="index.html" class="back-map-btn">‚¨Ö Back to Map</a>

<script>
    let currentQuestionIndex = 0;
    let cookies = 0;

    const scenarios = [
        {
            q: "Santa wants to turn his milk into a 'Cookie Slurpy' and pour it in his hat! Is Santa being Silly or Smart?",
            type: "silly",
            smartFix: "Santa should drink his milk from a glass and save his hat for his head!",
            success: "Ho Ho Ho! Great choice. The milk stays in the glass and Santa stays dry!"
        },
        {
            q: "Santa is so excited he wants to jump on the bed until it breaks! Is that Silly or Smart?",
            type: "silly",
            smartFix: "Santa should do 5 jumping jacks on the floor to use his energy!",
            success: "Smart thinking! The bed is safe and Santa's heart is happy!"
        },
        {
            q: "Santa wants to spray whipped cream on the Reindeer! Silly or Smart?",
            type: "silly",
            smartFix: "Santa should give the Reindeer a carrot snack instead!",
            success: "Yum! The Reindeer love carrots, and they stay clean for the flight!"
        },
        {
            q: "Santa is frustrated and wants to throw his list in the snow! Silly or Smart?",
            type: "silly",
            smartFix: "Santa should take 3 deep belly breaths and ask an Elf for help!",
            success: "Deep breaths worked! The list is dry and the toys are ready!"
        },
        {
            q: "Santa wants to shout 'JINGLE BELLS' while the elves are sleeping! Silly or Smart?",
            type: "silly",
            smartFix: "Santa should hum a quiet song so his friends can rest.",
            success: "Perfect! Everyone gets their sleep and Santa still gets to sing!"
        }
    ];

    function loadScenario() {
        const s = scenarios[currentQuestionIndex];
        document.getElementById('question-display').innerText = s.q;
        document.getElementById('button-zone').style.display = 'flex';
        document.getElementById('slider-zone').style.display = 'none';
        document.getElementById('smart-slider').value = 0;
        document.getElementById('santa-main-img').classList.remove('animate__bounce');
    }

    function rateBehavior(answer) {
        const s = scenarios[currentQuestionIndex];
        if (answer === s.type) {
            // Correct Rating
            Swal.fire({
                title: "That's right!",
                text: "Santa is being very silly. Can you help him find the SMART choice?",
                icon: "success",
                confirmButtonColor: "#4CAF50"
            }).then(() => {
                document.getElementById('button-zone').style.display = 'none';
                document.getElementById('slider-zone').style.display = 'block';
                document.getElementById('question-display').innerText = s.smartFix;
            });
        } else {
            // Wrong Rating
            Swal.fire({
                title: "Wait a minute...",
                text: "Is pouring milk in a hat really a smart idea? Try again!",
                icon: "warning",
                confirmButtonColor: "#fbc02d"
            });
        }
    }

    function checkSlider() {
        const val = document.getElementById('smart-slider').value;
        if (val > 80) {
            cookies++;
            document.getElementById(`cookie-${cookies}`).classList.add('active');
            
            Swal.fire({
                title: "Way to go!",
                text: scenarios[currentQuestionIndex].success,
                imageUrl: 'santa_character.jpg',
                imageWidth: 150,
                confirmButtonText: "Next Activity",
                confirmButtonColor: "#4CAF50"
            }).then(() => {
                currentQuestionIndex++;
                if (currentQuestionIndex < scenarios.length) {
                    loadScenario();
                } else {
                    winGame();
                }
            });
        }
    }

    function winGame() {
        Swal.fire({
            title: "üéÑ Master of Feelings! üéÑ",
            text: "You helped Santa make smart choices all day. You earned all the cookies!",
            icon: "success",
            confirmButtonText: "Hooray!"
        });
        document.getElementById('question-display').innerText = "You finished the North Pole Academy!";
    }

    loadScenario();
</script>
</body>
</html>
